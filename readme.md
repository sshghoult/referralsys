### OpenAPI Spec:
https://app.swaggerhub.com/apis/sshghoult/referrals/1.0.0
sshghoult-referrals-1.0.0-resolved.yaml

### Autogenerated documentation:
https://app.swaggerhub.com/apis-docs/sshghoult/referrals/1.0.0

### Postman Collection:
https://www.postman.com/lunar-module-cosmologist-9306501/workspace/referralsys/api/5409eabb-7f68-42c7-9c52-56de459d561f

Детали реализации:
- Для интеграции описанной системы аутентификации
потребовалось переписать базовую модель аутентификации Django, 
что привело к несовместимости со стандартными формами и методами Django для входа в админку.
Теперь их тоже нужно переписать. 
Это займет еще больше времени и, как мне кажется, имеет мало отношения к задачам тестового задания,
 и поэтому админка выключена.
 
- При использовании стандартного middleware
 сессий даже с кастомным бэкендом аутентификации джанго заставляет использовать CSRF-token. 
 Он присылается в cookies после аутентификации пользователя в /api/v1/auth/confirm
  и далее должен быть использован во всех не "safe" (смотри RFC 7231) запросах через соответствующий хэдер.
  Соответственно, для корректной работы после аутентификации нужно подставлять присланный token
   в хэдеры POST и PATCH запросов.
   
- Для хранения токенов сессий и кодов аутентификации используется non-persistent Redis. 
Для удобства дебага и демонстрации у этих ключей нет таймаута.
- Поднимается через `docker-compose up`. 
Деплой очень завязан на конфигурацию через переменные окружения, поэтому поднимать это без докера больно, увы.

